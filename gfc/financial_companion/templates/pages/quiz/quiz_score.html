{% extends "page.html" %}

<!-- Title -->
{% block title %}Quiz Results{% endblock %}

<!-- Content -->
{% block content %}
  <div class="row gy-5 justify-content-center text-center">
    <h1 class="col-12">Quiz Results</h1>
    
    <div class="col-12">
      <div class="row justify-content-center text-center">
        <h5 class="col-auto">Questions Answered: {{quiz_score.total_questions}}</h5>
        <h5 class="col-auto">Correctly Answered: {{quiz_score.correct_questions}}</h5>
        <h5 class="col-auto">Percentage Correct: {{quiz_score.get_score}}&#37;</h5>
        <h5 class="col-auto">Submission Time: {{quiz_score.time_of_submission}}</h5>
      </div>
    </div>

    <div class="col-12">
      {% if quiz_score.get_score >= 70 %}
        Great job you passed, why not try your hand at some other questions
        {% include 'partials/greggor_logo.html' with height=300 greggor_type="party" %}
      {% elif quiz_score.get_score < 40 %}
        You failed, take a chance to study the answers and try again
        {% include 'partials/greggor_logo.html' with height=300 greggor_type="sad" %}
      {% else %}
        Well done you pass, study the answers and try again to get even better
        {% include 'partials/greggor_logo.html' with height=300 greggor_type="normal" %}
      {% endif %}
    </div>

    {% for question in quiz_score.quiz_set.questions.all %}
      {%include 'partials/quiz/quiz_results_card.html' with question=question %}
    {% endfor %}

    <div class="col-12 row gy-3">
      <a href="{% url 'quiz_questions' pk=quiz_score.quiz_set.id %}" class="btn btn-info col-12">Retake Quiz</a>
      <a href="{% url 'quiz' %}" class="btn btn-primary col-12">Return to Quiz Page</a>
    </div>
  </div>
{% endblock %}
